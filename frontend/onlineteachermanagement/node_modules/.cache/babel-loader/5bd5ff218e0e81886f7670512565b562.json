{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hirus\\\\Desktop\\\\ITPM Project\\\\Institute-Management-System\\\\frontend\\\\onlineteachermanagement\\\\src\\\\Component\\\\TeacherAllInquiries.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TeacherAllInquiries(props) {\n  _s();\n\n  const [inquiries, setInquiries] = useState([]); //[] - array, data get from the db to this arraya\n\n  useEffect(() => {\n    function getInquiries() {\n      axios.get(\"http://localhost:8091/inquiry/getinquries\").then(res => {\n        setInquiries(res.data);\n      }).catch(err => {\n        alert(err.msg);\n      });\n    }\n\n    getInquiries();\n  }, []);\n\n  function deletee(id) {\n    Swal.fire({\n      title: \"Are you sure?\",\n      text: \"You won't be able to revert this!\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Yes, delete it!\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(\"http://localhost:8091/inquiry/delete/\" + id).then(res => {\n          Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\n          const afterDeleteInquiry = inquiries.filter(content => content._id != id);\n          setInquiries(afterDeleteInquiry);\n        }).catch(err => {\n          alert(err);\n        });\n      }\n    });\n  }\n\n  function handleSearch(e) {\n    let inqSearch = e;\n    console.log(inqSearch); //setErrorMsg(\"\");\n\n    axios.get(\"http://localhost:8091/inquiry/getinquries\").then(res => {\n      console.log(res.data);\n      filterContent(res.data, inqSearch);\n    }).catch(err => {\n      alert(err);\n    });\n  } //search\n\n\n  function filterContent(data, inqSearch) {\n    console.log(\"filter\");\n    console.log(data);\n    console.log(inqSearch);\n    let result = data.filter(post => post.name.toLowerCase().includes(inqSearch) || post.subjects.toLowerCase().includes(inqSearch) || post.inquiry_id.toLowerCase().includes(inqSearch));\n    console.log(result);\n    setInquiries(result);\n\n    if (result != null) {}\n\n    if (result.length == 0) {// setErrorMsg(\"No Result Found!\");\n      //alert(\"No Result Found!\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginLeft: \"325px\",\n      width: \"76%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"All Inquiries\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        class: \"form-control\",\n        type: \"text\",\n        placeholder: \"Search\",\n        \"aria-label\": \"Search\",\n        style: {\n          width: \"300px\"\n        } //  onChange={(e)=>handleTextSearch(e.target.value)}\n        ,\n        onChange: e => handleSearch(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 1\n      }, this), inquiries.map((inquiries, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card w-75\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: [index + 1, \". \", \"  Inquiry Id: \", inquiries.inquiry_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: [\"  Student name: \", inquiries.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: [\"  Student Email: \", inquiries.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: [\"  Subject: \", inquiries.subjects]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: [\"  Grage: \", inquiries.grade]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"/upload/\" + inquiries.inqimage,\n              alt: \"inqimage\",\n              width: \"110px\",\n              height: \"110px\" //className=\"rounded-circle\"\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              className: \"card-title\",\n              children: [\"  Heading: \", inquiries.inqHeader]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"card-text\",\n              children: inquiries.inqBody\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-danger\",\n              onClick: () => {\n                deletee(inquiries._id);\n              },\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 1\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 7\n  }, this);\n}\n\n_s(TeacherAllInquiries, \"uw4cHidFLjadLZHpyYqwNQdXdTg=\");\n\n_c = TeacherAllInquiries;\n\nvar _c;\n\n$RefreshReg$(_c, \"TeacherAllInquiries\");","map":{"version":3,"names":["React","useState","useEffect","axios","Swal","TeacherAllInquiries","props","inquiries","setInquiries","getInquiries","get","then","res","data","catch","err","alert","msg","deletee","id","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","afterDeleteInquiry","filter","content","_id","handleSearch","e","inqSearch","console","log","filterContent","post","name","toLowerCase","includes","subjects","inquiry_id","length","marginLeft","width","target","value","map","index","email","grade","inqimage","inqHeader","inqBody"],"sources":["C:/Users/hirus/Desktop/ITPM Project/Institute-Management-System/frontend/onlineteachermanagement/src/Component/TeacherAllInquiries.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n\r\nexport default function TeacherAllInquiries(props){\r\n  \r\n\r\n    const [inquiries, setInquiries] = useState([]); //[] - array, data get from the db to this arraya\r\n    useEffect(()=>{\r\n        function getInquiries() {\r\n            axios\r\n              .get(\"http://localhost:8091/inquiry/getinquries\")\r\n              .then((res) => {\r\n                setInquiries(res.data);\r\n              })\r\n              .catch((err) => {\r\n                alert(err.msg);\r\n              });\r\n          }\r\n          getInquiries();\r\n          \r\n    }, [])\r\n\r\n\r\n    function deletee(id) {\r\n\r\n      Swal.fire({\r\n        title: \"Are you sure?\",\r\n        text: \"You won't be able to revert this!\",\r\n        icon: \"warning\",\r\n        showCancelButton: true,\r\n        confirmButtonColor: \"#3085d6\",\r\n        cancelButtonColor: \"#d33\",\r\n        confirmButtonText: \"Yes, delete it!\",\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n      axios\r\n        .delete(\"http://localhost:8091/inquiry/delete/\" + id) \r\n        .then((res) => {\r\n          Swal.fire(\"Deleted!\", \"Your file has been deleted.\", \"success\");\r\n\r\n          \r\n  \r\n  \r\n          const afterDeleteInquiry = inquiries.filter(\r\n            (content) => content._id != id\r\n          );\r\n  \r\n  \r\n          setInquiries(afterDeleteInquiry);\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    }\r\n  });\r\n  }\r\n\r\n\r\n    function handleSearch(e) {\r\n     let inqSearch = e;\r\nconsole.log(inqSearch);\r\n     \r\n      \r\n     //setErrorMsg(\"\");\r\n      axios\r\n        .get(\"http://localhost:8091/inquiry/getinquries\")\r\n        .then((res) => {\r\n        console.log(res.data);\r\n          filterContent(res.data, inqSearch);\r\n        })\r\n        .catch((err) => {\r\n          alert(err);\r\n        });\r\n    }\r\n  \r\n  \r\n      //search\r\n      function filterContent(data, inqSearch) {\r\n        console.log(\"filter\");\r\n        console.log(data);\r\n        console.log(inqSearch);\r\n        let result = data.filter(\r\n          (post) =>\r\n            post.name.toLowerCase().includes(inqSearch) ||\r\n            post.subjects.toLowerCase().includes(inqSearch) ||\r\n           post.inquiry_id.toLowerCase().includes(inqSearch)\r\n        );\r\n        console.log(result);\r\n        setInquiries(result);\r\n    \r\n        if (result != null) {\r\n         \r\n        }\r\n    \r\n        if (result.length == 0) {\r\n       // setErrorMsg(\"No Result Found!\");\r\n        //alert(\"No Result Found!\");\r\n        \r\n        }\r\n       \r\n        \r\n      }\r\n\r\n\r\n    return(\r\n      <div style={{marginLeft:\"325px\",width:\"76%\"}}>\r\n        <div className=\"container\">\r\n          <h1>All Inquiries</h1>\r\n          \r\n          \r\n\r\n\r\n          <input\r\n        class=\"form-control\"\r\n        type=\"text\"\r\n        placeholder=\"Search\"\r\n        aria-label=\"Search\"\r\n        style={{width:\"300px\"}}\r\n      //  onChange={(e)=>handleTextSearch(e.target.value)}\r\n        onChange={(e) => handleSearch(e.target.value)\r\n        }\r\n      />\r\n<br/>\r\n{inquiries.map((inquiries, index) => {\r\n                return(\r\n\r\n                  \r\n\r\n<div className=\"card w-75\">\r\n\r\n\r\n  <div className=\"card-body\">\r\n    <h5 className=\"card-title\">{index + 1}. {\"  Inquiry Id: \"}{inquiries.inquiry_id}</h5>\r\n    <h5 className=\"card-title\">{\"  Student name: \"}{inquiries.name}</h5>\r\n    <h5 className=\"card-title\">{\"  Student Email: \"}{inquiries.email}</h5>\r\n    <h5 className=\"card-title\">{\"  Subject: \"}{inquiries.subjects}</h5>\r\n    <h5 className=\"card-title\">{\"  Grage: \"}{inquiries.grade}</h5>\r\n    <img\r\n                      src={\"/upload/\" + inquiries.inqimage}\r\n                      alt=\"inqimage\"\r\n                      width=\"110px\"\r\n                      height=\"110px\"\r\n                      //className=\"rounded-circle\"\r\n                    />\r\n    <h5 className=\"card-title\">{\"  Heading: \"}{inquiries.inqHeader}</h5>\r\n\r\n    <p className=\"card-text\">{inquiries.inqBody}</p>\r\n    <button type=\"button\" className=\"btn btn-danger\" onClick = {()=>{deletee(inquiries._id)}}>Delete</button>\r\n  </div>\r\n</div>\r\n\r\n);\r\n     \r\n})}\r\n</div>\r\n  </div>\r\n    \r\n  \r\n  \r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}